(this["webpackJsonptaco-thing"]=this["webpackJsonptaco-thing"]||[]).push([[0],{131:function(t,e,a){},132:function(t,e,a){},133:function(t,e,a){"use strict";a.r(e);var c=a(0),i=a(3),s=a.n(i),n=a(43),o=a.n(n),r=(a(51),a(28)),l=a.n(r),h=a(44),u=a(5),j=a(6),p=a(4),b=a(8),d=a(7),m=a.p+"static/media/logo.e01ecb40.svg",g=function(t){Object(b.a)(a,t);var e=Object(d.a)(a);function a(t){var c;return Object(u.a)(this,a),(c=e.call(this,t)).handleClick=c.handleClick.bind(Object(p.a)(c)),c}return Object(j.a)(a,[{key:"handleClick",value:function(){this.props.generateTaco(this.props.tacoName,this.props.recipe,this.props.image)}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"taco-card-small",onClick:this.handleClick,children:[Object(c.jsx)("div",{className:"taco-image",children:Object(c.jsx)("img",{src:this.props.image,alt:"a randomly generated taco"})}),Object(c.jsx)("div",{className:"taco-name",children:Object(c.jsx)("h1",{children:this.props.tacoName})})]})}}]),a}(s.a.Component),O=function(t){Object(b.a)(a,t);var e=Object(d.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(){console.log(this.props.tacoList)}},{key:"render",value:function(){var t=this,e=this.props.tacoList.map((function(e,a){return Object(c.jsx)(g,{tacoName:e.tacoName,image:e.image,recipe:e.recipe,generateTaco:t.props.generateTaco},a)}));return this.props.isVisible?Object(c.jsx)("div",{children:e}):null}}]),a}(s.a.Component),f=a(29),v=a(45),k=a.n(v),x=function(t){Object(b.a)(a,t);var e=Object(d.a)(a);function a(t){var c;return Object(u.a)(this,a),(c=e.call(this,t)).handleLinkClick=c.handleLinkClick.bind(Object(p.a)(c)),c}return Object(j.a)(a,[{key:"handleLinkClick",value:function(t){t.preventDefault();var e="https://taco-randomizer.herokuapp.com"+t.target.getAttribute("href").slice(0,-3);window.location=e}},{key:"render",value:function(){var t=this,e=this.props.recipe,a=this.props.image,i={link:function(e){return Object(c.jsx)("a",Object(f.a)(Object(f.a)({},e),{},{onClick:function(e){return t.handleLinkClick(e)}}))}};return Object(c.jsx)("div",{className:"recipe-card",children:Object(c.jsxs)("div",{className:"title-card",children:[Object(c.jsx)("div",{className:"taco-recipe",children:Object(c.jsx)(k.a,{children:e,renderers:i})}),Object(c.jsx)("div",{className:"taco-image",children:Object(c.jsx)("img",{src:a,alt:"a randomly generated taco"})})]})})}}]),a}(s.a.Component),N=a.p+"static/media/heart.ab8d4f8a.svg",L=a.p+"static/media/arrow.9275f0f5.svg",T=function(t){Object(b.a)(a,t);var e=Object(d.a)(a);function a(){return Object(u.a)(this,a),e.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var t=this,e=this.props.tacoList.some((function(e){return e.tacoName===t.props.tacoName}))?"Unike":"Like";return this.props.isVisible?Object(c.jsxs)("div",{className:"taco-generator",children:[Object(c.jsxs)("div",{className:"taco-buttons",children:[Object(c.jsxs)("button",{className:"get-taco-button",onClick:this.props.fetchTaco,children:[Object(c.jsx)("span",{className:"arrow",children:Object(c.jsx)("img",{src:L,alt:""})}),Object(c.jsx)("span",{className:"underline",children:"Not delicious? Taco 'nother chance \ud83c\udf2e"})]}),Object(c.jsxs)("button",{className:"like-button",onClick:this.props.likeTaco,children:[Object(c.jsx)("span",{children:Object(c.jsx)("img",{className:"heart",src:N,alt:""})}),Object(c.jsx)("span",{children:e})]})]}),Object(c.jsx)(x,{recipe:this.props.recipe,image:this.props.image})]}):null}}]),a}(s.a.Component),y=(a(131),a(132),function(t){Object(b.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(u.a)(this,a),(t=e.call(this)).fetchTaco=t.fetchTaco.bind(Object(p.a)(t)),t.toggletacoListVisible=t.toggletacoListVisible.bind(Object(p.a)(t)),t.likeTaco=t.likeTaco.bind(Object(p.a)(t)),t.generateTaco=t.generateTaco.bind(Object(p.a)(t)),t.state={tacoListVisible:!1,tacoList:[]},t}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.fetchTaco()}},{key:"toggletacoListVisible",value:function(){this.setState({tacoListVisible:!this.state.tacoListVisible})}},{key:"likeTaco",value:function(){var t={tacoName:this.state.tacoName,image:this.state.image,recipe:this.state.recipe};this.state.tacoList.some((function(e){return e.tacoName===t.tacoName}))?this.setState({tacoList:this.state.tacoList.filter((function(e){return e.tacoName!==t.tacoName}))}):this.setState({tacoList:this.state.tacoList.concat(t)})}},{key:"fetchTaco",value:function(){var t=Object(h.a)(l.a.mark((function t(){var e,a,c,i,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"GET",redirect:"follow"},"https://taco-randomizer.herokuapp.com/random/?full-taco=true",t.next=4,fetch("https://taco-randomizer.herokuapp.com/random/?full-taco=true",e).then((function(t){return t.json()}));case 4:return a=t.sent,console.log(a.name),c=a.name,i=/!\[(.*?)\]\((.*?)\)/g,s=a.recipe.replace(i,""),"https://api.unsplash.com/photos/random?client_id=yJn8cRgfTyy6hKHZ-Ce3ZcFCW8i62gdc4TDKz1jBZ_w&query=taco",t.next=12,fetch("https://api.unsplash.com/photos/random?client_id=yJn8cRgfTyy6hKHZ-Ce3ZcFCW8i62gdc4TDKz1jBZ_w&query=taco").then((function(t){return t.json()})).then((function(t){return t.urls.small}));case 12:n=t.sent,this.setState({recipe:s,image:n,tacoName:c});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"generateTaco",value:function(t,e,a){this.setState({recipe:e,image:a,tacoName:t,tacoListVisible:!1})}},{key:"render",value:function(){var t=this.state.tacoListVisible?"Generate Taco":"Favourites";return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("header",{children:Object(c.jsxs)("div",{className:"top-bar",children:[Object(c.jsx)("img",{src:m,alt:"Tacothing logo"}),Object(c.jsx)("button",{className:"my-tacos",onClick:this.toggletacoListVisible,children:t})]})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(T,{recipe:this.state.recipe,image:this.state.image,fetchTaco:this.fetchTaco,isVisible:!this.state.tacoListVisible,likeTaco:this.likeTaco,tacoName:this.state.tacoName,tacoList:this.state.tacoList}),Object(c.jsx)(O,{isVisible:this.state.tacoListVisible,tacoList:this.state.tacoList,generateTaco:this.generateTaco})]})]})}}]),a}(s.a.Component)),C=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(e){var a=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,n=e.getTTFB;a(t),c(t),i(t),s(t),n(t)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),C()},51:function(t,e,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.da15a65f.chunk.js.map